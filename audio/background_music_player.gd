class_name BackgroundMusicPlayer extends AudioStreamPlayer2D
# ------------------------------------------------------------------------------
# Variables ====================================================================
# ------------------------------------------------------------------------------
@export var fade_in_duration:float = 1.0
var _target_volume_db: float
# ------------------------------------------------------------------------------
# Live Cycle ===================================================================
# ------------------------------------------------------------------------------
func _ready():
	_target_volume_db = volume_db
	var length = stream.get_length()
	play(randf() * length / 2)
	volume_db = -100
	var tween = create_tween()
	tween.tween_property(self, "volume_db", _target_volume_db, fade_in_duration)
	

# ------------------------------------------------------------------------------
# Class Functions ==============================================================
# ------------------------------------------------------------------------------

